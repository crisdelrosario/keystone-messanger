// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                         String         @id @default(cuid())
  name                       String         @default("")
  email                      String         @unique @default("")
  password                   String
  from_Conversation_sender   Conversation[] @relation("Conversation_sender")
  from_Conversation_receiver Conversation[] @relation("Conversation_receiver")
}

model Conversation {
  id                        String    @id @default(cuid())
  sender                    User?     @relation("Conversation_sender", fields: [senderId], references: [id])
  senderId                  String?   @map("sender")
  receiver                  User?     @relation("Conversation_receiver", fields: [receiverId], references: [id])
  receiverId                String?   @map("receiver")
  createdAt                 DateTime?
  from_Message_conversation Message[] @relation("Message_conversation")

  @@index([senderId])
  @@index([receiverId])
}

model Message {
  id             String        @id @default(cuid())
  conversation   Conversation? @relation("Message_conversation", fields: [conversationId], references: [id])
  conversationId String?       @map("conversation")
  message        String        @default("")
  sent           Boolean       @default(false)
  read           Boolean       @default(false)
  createdAt      DateTime?

  @@index([conversationId])
}